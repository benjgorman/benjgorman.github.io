<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="utf-8">
    <title>Arduino Powered Arcade Joystick | Benjamin Gorman</title>
    <link rel="stylesheet" href="/assets/css/main.css">
    <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-XXXXXXXX-X"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-169272909-1');
</script>

  </head>
  <body>
    
<link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,400italic,700|Kreon:400,700' rel='stylesheet' type='text/css'>
<link rel="stylesheet" href="/responsive-nav.css">
<script src="/responsive-nav.js"></script>

<script>
	/*! grunt-grunticon Stylesheet Loader - v2.1.6 | https://github.com/filamentgroup/grunticon | (c) 2015 Scott Jehl, Filament Group, Inc. | MIT license. */

	!function(){function e(e,n,t,o){"use strict";var r=window.document.createElement("link"),a=n||window.document.getElementsByTagName("script")[0],i=window.document.styleSheets;return r.rel="stylesheet",r.href=e,r.media="only x",o&&(r.onload=o),a.parentNode.insertBefore(r,a),r.onloadcssdefined=function(n){for(var t,o=0;o<i.length;o++)i[o].href&&i[o].href.indexOf(e)>-1&&(t=!0);t?n():setTimeout(function(){r.onloadcssdefined(n)})},r.onloadcssdefined(function(){r.media=t||"all"}),r}function n(e,n){e.onload=function(){e.onload=null,n&&n.call(e)},"isApplicationInstalled"in navigator&&"onloadcssdefined"in e&&e.onloadcssdefined(n)}!function(t){var o=function(r,a){"use strict";if(r&&3===r.length){var i=t.navigator,c=t.document,d=t.Image,s=!(!c.createElementNS||!c.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect||!c.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1")||t.opera&&-1===i.userAgent.indexOf("Chrome")||-1!==i.userAgent.indexOf("Series40")),l=new d;l.onerror=function(){o.method="png",o.href=r[2],e(r[2])},l.onload=function(){var t=1===l.width&&1===l.height,i=r[t&&s?0:t?1:2];t&&s?o.method="svg":t?o.method="datapng":o.method="png",o.href=i,n(e(i),a)},l.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",c.documentElement.className+=" grunticon"}};o.loadCSS=e,o.onloadCSS=n,t.grunticon=o}(this),function(e,n){"use strict";var t=n.document,o="grunticon:",r=function(e){if(t.attachEvent?"complete"===t.readyState:"loading"!==t.readyState)e();else{var n=!1;t.addEventListener("readystatechange",function(){n||(n=!0,e())},!1)}},a=function(e){return n.document.querySelector('link[href$="'+e+'"]')},i=function(e){var n,t,r,a,i,c,d={};if(n=e.sheet,!n)return d;t=n.cssRules?n.cssRules:n.rules;for(var s=0;s<t.length;s++)r=t[s].cssText,a=o+t[s].selectorText,i=r.split(");")[0].match(/US\-ASCII\,([^"']+)/),i&&i[1]&&(c=decodeURIComponent(i[1]),d[a]=c);return d},c=function(e){var n,r,a,i;a="data-grunticon-embed";for(var c in e){i=c.slice(o.length);try{n=t.querySelectorAll(i)}catch(d){continue}r=[];for(var s=0;s<n.length;s++)null!==n[s].getAttribute(a)&&r.push(n[s]);if(r.length)for(s=0;s<r.length;s++)r[s].innerHTML=e[c],r[s].style.backgroundImage="none",r[s].removeAttribute(a)}return r},d=function(n){"svg"===e.method&&r(function(){c(i(a(e.href))),"function"==typeof n&&n()})};e.embedIcons=c,e.getCSS=a,e.getIcons=i,e.ready=r,e.svgLoadedCallback=d,e.embedSVG=d}(grunticon,this)}();
	grunticon(["/grunt/output/icons.data.svg.css", "/grunt/output/icons.data.png.css", "/grunt/output/icons.fallback.css"], grunticon.svgLoadedCallback );
	</script>
	<noscript><link href="/grunt/output/icons.fallback.css" rel="stylesheet"></noscript>

<header class="header" role="banner">
	<div id="inner-header" class="wrap_nav">
    <nav class="nav-collapse">
      <ul>
        
        <li><a href="/" data-hover="Home">Home</a></li>
        
        <li><a href="/notebook" data-hover="Notebook">Notebook</a></li>
        
        <li><a href="/projects" data-hover="Projects">Projects</a></li>
        
        <li><a href="/publications" data-hover="Publications">Publications</a></li>
        
        <li><a href="/about" data-hover="About">About</a></li>
        
      </ul>
    </nav>
    <div class="page-logos">
       <a href="\" rel="nofollow"><div id="logo_nav" class="icon-bg"><div class="invisible">Go to home</div></div></a>
       <a href="#"><div id="newtoggle" class="icon-open" style="width: 30px; height: 35px; background-size:100%;"><div class="invisible">Menu</div></div></a>
    </div>
		</div>
</header>

    <div id="content" class="container">
      <div id="inner-content" class="wrap cf">
          <div id="main" role="main">
            <article>
  <section class="entry-content wrap">
    <article class="container wrap">
      <header class="article-header">
      	<p class="post-date">19 Jul 2015</p>
        <h1 class="post-title">Arduino Powered Arcade Joystick</h1>
      </header>
      <hr>
    	<h2 id="introduction">Introduction</h2>

<p>Who doesn’t love some classic arcade gaming fun? Although there are countless versions of these games for our iPhones and tablets, there really is no substitute for the classic arcade stick and the colourful buttons with that vintage clicky feel. Now for this project I didn’t document the build process step-by-step but it was actually relatively simply to get everything in place once I had the proper materials.</p>

<p><img src="/assets/images/post_images/joystick.jpg" alt="Arduino Joystick" title="Arduino Joystick" /></p>

<h2 id="components">Components</h2>

<p>Here’s what we need</p>

<ul>
  <li>1 Joystick</li>
  <li>3 Concave Buttons</li>
  <li>1 Arduino ProMicro</li>
  <li>1 Modular Breadboard</li>
  <li>Some wires and solder</li>
  <li>Wooden or Plastic box with removable lid. I ended up building a custom one from scrap wood.</li>
  <li>Some time</li>
</ul>

<p>To start off with you are going to need some components. The brains of the operation will be an SparkFun Arduino ProMicro. Now you could also use an Arduino Uno, Arduino Leonardo or whatever you have on your workbench. I’m using the ProMicro mainly due to it’s size. The joystick I decided to use was a 4-way Pac-Man type arcade joystick from SparkFun. It’s a digital arcade stick with 4 microswitches to detect on/off position and has a spring return to centre. It’s very rugged in construction and the red ball on top really gives it a funky retro feel. The arcade stick is a decent size, however the joystick handle might be a little short after it’s mounted as the metal plate is designed to go below the surface of your play-space with the stick pointing through a mounting hole.</p>

<p>You’ll also need three or more concave arcade buttons. I went for three as many arcade games such as Pac-Man, Frogger or Galaga have at minimum a fire button, a coin button, and a start button. I went for two blue and one green button, but you can choose whatever fits your project. You’ll find that other games require more than 3 buttons, but you can also create hotkeys which combine two buttons and make them act as one. For instance I rigged up my MAME games to exit when I press all three face buttons.</p>

<p>Finally you will need a small modular breadboard, the one I used had a nice adhesive mount on the bottom, so it fitted in my project box easily along with some wires to connect everything together.</p>

<h2 id="arcade-stick--button-mounting">Arcade Stick &amp; Button Mounting</h2>

<p>You’ll want to drill some holes now for each of your buttons along with the joystick on your project box lid. Ideally you’ll want to use a 1 1/8th inch paddle bit (1.125” / 28mm), however I only had a 32mm paddle bit and it worked fine, although the black rim of the buttons is visible. It’s worth noting that depending on the size of the hole you drill, in order to mount each button, the switch will first have to be removed from the assembly. This is best accomplished by using a small screwdriver to pry back a plastic tab that has a knob that fits in a hole of the actual switch. The switch can then be rotated and the other knob comes out much more easily. In order to mount the joystick you need to unscrew the ball from the handle, you can then attach the joystick mounting plate using some wood screws.</p>

<h2 id="wiring">Wiring</h2>

<p>You’ll first want to solder some header pins onto the Arduino board (if you are using one which uses pins) and then fit it straight into the breadboard. For each direction our joystick has one microswitch, we are going to use the Arduino’s build in pull-up resistors in order to drive it, so all we need to do is connect one plate of the microswitch to an input pin (Such as A0, A1, A2, A3) and one to common ground (GND). It helps if you use the same type of plate for each direction, as on the joystick one plate of the switch sticks out at an angle and one sits flat against the mounting plate.</p>

<p>With the buttons, you’ll notice that these microswitch have 3 pins. One will be labelled common and this is wired to the common ground (GND). One of the others goes to VCC and the final pin goes to your input pin.</p>

<h2 id="code">Code</h2>

<p>For the code I followed http://www.imaginaryindustries.com/blog/?p=80 in order to let the Arduino be mapped the input buttons to something a host machine can understand. I had previously modified the Arduino firmware to turn my ProMicro into a HID device, but if you use something like the Leonardo you won’t need to do this.</p>

<h2 id="testing">Testing</h2>

<p>If you have a windows machine you can go ahead and plug it straight into a USB slot. You can set it as a USB Game Controller. If you go into the properties you should see a nice axis and if everything is working when you move the arcade stick around, the small crosshair will jump to each direction. Pressing one of the buttons will also turn the small buttons to the off position. Remember this is because we are using the pull up resistor in the Arduino so all of our buttons are always firing HIGH until we close the circuit which turns them LOW.</p>

<h2 id="raspberrypi--retroarch">RaspberryPi + RetroArch</h2>

<p>Now all that’s required is to turn your Laptop or RaspberryPi into a MAME style emulator.</p>

<p><a href="http://lifehacker.com/how-to-turn-your-raspberry-pi-into-a-retro-game-console-498561192">Click here for the fantastic lifehacker article for info on how to do that!</a></p>

  </section>
</article>

            <div class="push"></div>
            </div>
          </div>
      </div>
      <script defer src="https://use.fontawesome.com/releases/v5.0.8/js/all.js" integrity="sha384-SlE991lGASHoBfWbelyBPLsUlwY1GwNDJo3jSJO04KZ33K2bwfV9YBauFfnzvynJ" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>


<footer class="footer" id="footer">
      <div class="container">
				<p class="text_center copyright">Find me elsewhere:</p>
				<ul class="social">
          <li><a title="You should follow me on Twitter" href="http://twitter.com/benjgorman"><div class="icon-twitter" data-grunticon-embed></div></a></li>
					<li><a title="Find me on Facebook" href="http://facebook.com/bengorman"><div class="icon-facebook" data-grunticon-embed></div></a></li>
					<li><a title="Stalk me on Instagram" href="http://instagram.com/benjgorman"><div class="icon-instagram" data-grunticon-embed></div></a></li>
					<li><a title="Follow me on Github" href="http://github.com/benjgorman"><div class="icon-github" data-grunticon-embed></div></a></li>
				</ul>
				<p class="source-org copyright">Copyright &copy; <?php echo date('Y'); ?> Benjamin Gorman. All rights reserved. Designed by me. Powered by <a href="https://jekyllrb.com/">Jekyll</a>.</p>
      </div>
</footer>

    </body>
    <div class="push"></div>
    </div>
  <script>
  	var nav = responsiveNav(".nav-collapse");
  </script>
</html>
